(this["webpackJsonpweather-app-react"]=this["webpackJsonpweather-app-react"]||[]).push([[0],{191:function(e,t,n){},192:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(50),i=n.n(c),s=n(14),o=n(5),u=n.n(o),l=n(9),d=n(10),h=n(1),f=function(e){var t=e.showFavouritesPanel;return Object(h.jsxs)("button",{className:"favourites",id:"open-favourites-button",onClick:t,"aria-label":"Open favourite cities panel",children:[Object(h.jsx)("i",{className:"far fa-heart"})," ",Object(h.jsx)("span",{children:"Favourites"})]})},p=function(e){var t=e.changeCity,n=e.showNotification,a=Object(r.useState)(""),c=Object(d.a)(a,2),i=c[0],s=c[1];return Object(h.jsxs)("form",{id:"search-form",onSubmit:function(e){e.preventDefault(),i.trim()?t(i):n("You have to enter a city name."),s("")},children:[Object(h.jsx)("input",{type:"text",placeholder:"Search for a city...",name:"search-input",id:"search-input",autoComplete:"off",value:i,onChange:function(e){return s(e.target.value)}}),Object(h.jsx)("button",{type:"submit",id:"search-button","aria-label":"Search",children:Object(h.jsx)("i",{className:"fas fa-search"})})]})},j=function(e){var t=e.changeCity,n=e.showFavouritesPanel,r=e.showNotification;return Object(h.jsxs)("header",{children:[Object(h.jsx)("h1",{children:"WeatherApp"}),Object(h.jsx)(p,{changeCity:t,showNotification:r}),Object(h.jsx)(f,{showFavouritesPanel:n})]})},m=function(e){var t=e.weather,n=e.isFavourite,r=e.toggleFavourite;return Object(h.jsxs)("div",{className:"current-weather",tabIndex:0,children:[Object(h.jsx)("object",{type:"image/svg+xml",id:"current-icon",data:null===t||void 0===t?void 0:t.icon,tabIndex:-1,title:"".concat(null===t||void 0===t?void 0:t.description," icon"),"aria-hidden":"true"}),Object(h.jsxs)("div",{className:"city-info",children:[Object(h.jsx)("h2",{id:"city-name",children:null===t||void 0===t?void 0:t.cityName}),Object(h.jsxs)("p",{className:"temperature",children:[Object(h.jsx)("span",{id:"current-temperature",children:null===t||void 0===t?void 0:t.temperature})," \xb0C"]}),Object(h.jsx)("p",{id:"current-description",children:null===t||void 0===t?void 0:t.description})]}),Object(h.jsx)("button",{className:"favourites-icon",id:"heart-button",onClick:r,"aria-label":"".concat(n?"Remove from favourites":"Add to favourites"),children:Object(h.jsx)("i",{className:"".concat(n?"fas":"far"," fa-heart ").concat(n&&"full-heart")})})]})},b=function(){var e=function(){var e=document.getElementById("details-content");e.style.maxHeight=e.scrollHeight+"px"};return Object(h.jsx)("button",{id:"details-header",onClick:function(t){var n=t.currentTarget.nextElementSibling;n.classList.toggle("active"),n.style.maxHeight||e(),setTimeout((function(){n.classList.contains("active")?n.style.maxHeight=n.scrollHeight+"px":n.style.maxHeight="0"}))},"aria-label":"Details",children:Object(h.jsxs)("div",{className:"flex-container",children:[Object(h.jsx)("h3",{children:"Details"}),Object(h.jsx)("span",{children:"\u25bc"})]})})},v=function(e){var t=e.header,n=e.value,r=e.unit;return Object(h.jsxs)("li",{className:"details-item",tabIndex:0,children:[Object(h.jsx)("h4",{children:t}),Object(h.jsxs)("span",{children:[n,r]})]})},x=function(e){var t=e.weather;return Object(h.jsxs)("ul",{className:"details-flex-container",children:[Object(h.jsx)(v,{header:"Sensed temperature",value:null===t||void 0===t?void 0:t.sensedTemperature,unit:" \xb0C"}),Object(h.jsx)(v,{header:"Humidity",value:null===t||void 0===t?void 0:t.humidity,unit:"%"}),Object(h.jsx)(v,{header:"Wind",value:null===t||void 0===t?void 0:t.wind,unit:" km/h"}),Object(h.jsx)(v,{header:"UV",value:null===t||void 0===t?void 0:t.uv}),Object(h.jsx)(v,{header:"Pressure",value:null===t||void 0===t?void 0:t.pressure,unit:" hPa"})]})},O=n(12),y=n(75),w=n(74),g=function(e){var t=e.dataArray,n=Object(r.useState)([]),a=Object(d.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)([]),o=Object(d.a)(s,2),u=o[0],l=o[1],f=Object(r.useState)(),p=Object(d.a)(f,2),j=p[0],m=p[1],b=Object(r.useState)(),v=Object(d.a)(b,2),x=v[0],g=v[1];Object(r.useLayoutEffect)((function(){i(N()),O.c.register(w.a),O.c.defaults.font.size=14,O.c.defaults.font.family='"Ubuntu", sans-serif'}),[]),Object(r.useEffect)((function(){if(t){var e=t.map((function(e){return e.temperature}));l(e),g(Math.max.apply(null,e)+2),m(Math.min.apply(null,e)-2)}}),[t]);var N=function(){for(var e=[],t=(new Date).getHours(),n=0;n<24;n++)e.push(t+":00"),++t>=24&&(t=0);return e},k={labels:c,datasets:[{label:"Temperature",data:u,fill:{target:"origin",above:"rgba(255,170,99,0.5)",below:"rgba(255,170,99,0.5)"},borderColor:"rgba(255,170,99,1)",tension:.2}]},C={font:{size:14,family:'"Ubuntu", sans-serif'},interaction:{intersect:!1,mode:"nearest"},maintainAspectRatio:!1,plugins:{tooltip:{displayColors:!1,footerFont:{size:14},callbacks:{title:function(e){var n=new Date(1e3*t[e[0].parsed.x].date);return"".concat(n.getDate(),".").concat(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,".").concat(n.getFullYear()," ").concat(n.getHours()<10?"0"+n.getHours():n.getHours(),":").concat(n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes())},label:function(e){return"Temperature: ".concat(e.parsed.y.toFixed(1)," ").concat(String.fromCharCode(176),"C")},afterLabel:function(e){return"Humidity: ".concat(t[e.parsed.x].humidity,"%")},afterBody:function(e){return"Wind: ".concat(t[e[0].parsed.x].wind," km/h")},footer:function(e){return"".concat(t[e[0].parsed.x].description)}}},datalabels:{color:"white",anchor:"end",align:"top",clamp:!0,offset:0,display:function(e){return e.dataIndex%3===1},formatter:function(e){return Math.round(e)}},legend:{display:!1}},scales:{x:{grid:{display:!1,drawBorder:!1,drawOnChartArea:!1,drawTicks:!1,borderColor:"white"},ticks:{callback:function(e,t){return t%3===1?this.getLabelForValue(+e):""},color:"white",maxRotation:0,autoSkipPadding:-10}},y:{max:x,min:j,grid:{display:!1,drawBorder:!1,drawOnChartArea:!1,drawTicks:!1,borderColor:"white"},ticks:{display:!1,color:"white"}}}};return Object(h.jsxs)("div",{"aria-hidden":"true",children:[Object(h.jsx)("h4",{children:"Next 24 hours"}),Object(h.jsx)("div",{className:"graph-container",children:Object(h.jsx)(y.a,{data:k,options:C})})]})};function N(e,t){var n=new Date(e).toLocaleDateString(t,{weekday:"long"}),r=new Date;return r.setDate(r.getDate()+1),n===r.toLocaleDateString(t,{weekday:"long"})?"Tomorrow":n}var k=function(e){var t=e.weather;return Object(h.jsxs)("li",{tabIndex:0,children:[Object(h.jsx)("span",{className:"day",children:N(1e3*t.date,"en-US")}),Object(h.jsx)("span",{className:"icon-cell",children:Object(h.jsx)("object",{type:"image/svg+xml",className:"weather-icon",data:t.icon,tabIndex:-1,title:"".concat(t.description," icon"),"aria-hidden":"true"})}),Object(h.jsx)("span",{className:"weather-description",children:t.description}),Object(h.jsxs)("span",{className:"max-temp","aria-label":"Maximum temperature ".concat(t.maxTemperature," degrees Celcius"),children:[t.maxTemperature," \xb0C"]}),Object(h.jsxs)("span",{className:"min-temp","aria-label":"Minimum temperature ".concat(t.minTemperature," degrees Celcius"),children:[t.minTemperature," \xb0C"]})]})},C=function(e){var t=e.weeklyWeather;return Object(h.jsxs)("div",{className:"next-week",children:[Object(h.jsx)("h4",{tabIndex:0,children:"Next week"}),Object(h.jsx)("ul",{className:"next-week-list",children:null===t||void 0===t?void 0:t.map((function(e){return Object(h.jsx)(k,{weather:e},e.date)}))})]})},T=function(e){var t=e.weather;return Object(h.jsxs)("div",{id:"details-content",className:"active",children:[Object(h.jsx)("hr",{}),Object(h.jsx)(x,{weather:t}),Object(h.jsx)(g,{dataArray:null===t||void 0===t?void 0:t.hourlyWeatherArray}),Object(h.jsx)(C,{weeklyWeather:null===t||void 0===t?void 0:t.weeklyWeatherArray})]})},S=function(e){var t=e.weather;return Object(h.jsxs)("div",{className:"details",children:[Object(h.jsx)(b,{}),Object(h.jsx)(T,{weather:t})]})},W=function(e){var t=e.weather,n=e.isFavourite,r=e.toggleFavourite;return Object(h.jsxs)("main",{children:[Object(h.jsx)(m,{weather:t,isFavourite:n,toggleFavourite:r}),Object(h.jsx)(S,{weather:t})]})},F=function(){return Object(h.jsx)("footer",{children:"\xa9 2021 Kacper Budny"})},D=function(){return Object(h.jsx)("div",{id:"loading-overlay",children:Object(h.jsxs)("div",{className:"lds-ring",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]})})},A=function(e){var t=e.message,n=e.onClose,a=Object(r.useRef)(null),c=Object(r.useRef)(),i=Object(r.useCallback)((function(){clearTimeout(c.current),a.current.style.bottom="-100px",setTimeout((function(){n()}),500)}),[n]);return Object(r.useEffect)((function(){return setTimeout((function(){a.current.style.bottom="0px"}),0),c.current=window.setTimeout((function(){i()}),5e3),function(){clearTimeout(c.current)}}),[i]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"notification",ref:a,children:[Object(h.jsx)("h6",{children:"Oops!"}),Object(h.jsx)("p",{children:t}),Object(h.jsx)("button",{className:"close-button",onClick:i,children:"X"})]})})},I=function(e){var t=e.onClose;return Object(h.jsxs)("div",{className:"favourites-header",children:[Object(h.jsx)("h3",{tabIndex:0,children:"Favourite cities"}),Object(h.jsx)("button",{id:"close-favourites",onClick:t,tabIndex:0,"aria-label":"Close the panel",children:Object(h.jsx)("i",{className:"fas fa-times"})})]})},M=function(e){var t=e.city,n=e.onDelete,a=e.changeCity,c=e.closePanel,i=Object(r.useRef)(null);return Object(h.jsxs)("li",{className:"favourite-item",onClick:function(e){var n=e.target.closest(".favourite-item");n&&i.current.contains(n)&&(e.defaultPrevented||(a(t.cityName),c()))},ref:i,tabIndex:0,children:[Object(h.jsxs)("div",{className:"flex-group-left",children:[Object(h.jsx)("object",{type:"image/svg+xml",className:"icon",data:t.icon,tabIndex:-1}),Object(h.jsxs)("div",{className:"city-info",tabIndex:0,children:[Object(h.jsx)("h4",{children:t.cityName}),Object(h.jsxs)("p",{children:[t.temperature," \xb0C"]}),Object(h.jsx)("p",{className:"description",children:t.weatherDescription})]})]}),Object(h.jsx)("button",{className:"remove-button",onClick:function(e){e.preventDefault(),n(t.cityName)},tabIndex:0,"aria-label":"Remove from",children:Object(h.jsx)("i",{className:"far fa-trash-alt"})})]})},P=function(e){var t=e.favourites,n=e.onDelete,r=e.changeCity,a=e.closePanel;return Object(h.jsx)(h.Fragment,{children:t.length>0?Object(h.jsx)("ul",{id:"favourites-list",children:t.map((function(e){return Object(h.jsx)(M,{city:e,onDelete:n,changeCity:r,closePanel:a},e.cityName)}))}):Object(h.jsx)("p",{children:"Your list of favourites is empty."})})},H=n(73),E=n.n(H),L=function(e){var t=e.onClose,n=e.favourites,a=e.onDelete,c=e.changeCity,i=Object(r.useRef)(null),s=Object(r.useRef)(null),o=Object(r.useCallback)((function(){var e=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(e||"0")),setTimeout((function(){s.current.style.right="calc(-100% - 100px)",i.current.style.opacity="0.0"}),0),setTimeout((function(){t()}),500)}),[t]);return Object(r.useEffect)((function(){document.body.style.top="-".concat(window.scrollY,"px"),document.body.style.position="fixed",setTimeout((function(){i.current.style.opacity="1.0",s.current.style.right="0px"}),0);var e=function(e){"Escape"===e.code&&o()};return document.addEventListener("keydown",e,!1),function(){document.removeEventListener("keydown",e,!1)}}),[o]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(E.a,{children:Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{id:"dark-overlay",ref:i,onClick:o}),Object(h.jsxs)("div",{id:"favourites-container",ref:s,children:[Object(h.jsx)(I,{onClose:o}),Object(h.jsx)(P,{favourites:n,onDelete:a,changeCity:c,closePanel:o})]})]})})})},R=function(e){for(var t=Object(r.useRef)(!1),n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];Object(r.useEffect)((function(){t.current?e():t.current=!0}),[a,e])},B="178836ce7da48031336d35a79cecd7b8",U="https://api.openweathermap.org";function Y(e){return J.apply(this,arguments)}function J(){return(J=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(U,"/geo/1.0/direct?q=").concat(t,"&appid=").concat(B));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",{lat:r[0].lat,lon:r[0].lon});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(l.a)(u.a.mark((function e(t){var n,r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lat,r=t.lon,e.next=3,fetch("".concat(U,"/geo/1.0/reverse?lat=").concat(n,"&lon=").concat(r,"&appid=").concat(B));case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",c[0].name);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){return V.apply(this,arguments)}function V(){return(V=Object(l.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(U,"/data/2.5/onecall?lat=").concat(t,"&lon=").concat(n,"&exclude=minutely,alerts&appid=").concat(B,"&units=metric"));case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){return K.apply(this,arguments)}function K(){return(K=Object(l.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(U,"/data/2.5/onecall?lat=").concat(t,"&lon=").concat(n,"&exclude=minutely,daily,hourly,alerts&appid=").concat(B,"&units=metric"));case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=n(3),G=function e(t){var n=t.temperature,r=t.wind,a=t.humidity,c=t.description,i=t.dt;Object(X.a)(this,e),this.temperature=void 0,this.date=void 0,this.wind=void 0,this.humidity=void 0,this.description=void 0,this.temperature=n,this.date=i,this.wind=r,this.humidity=a,this.description=c},Q=n.p+"static/media/sun.2a54c9b1.svg",Z=n.p+"static/media/rain.42fd10f7.svg",$=n.p+"static/media/snow.c861e27d.svg",ee=n.p+"static/media/fog.abd7c205.svg",te=n.p+"static/media/storm.c223c679.svg",ne=n.p+"static/media/cloud.c836b080.svg",re=n.p+"static/media/unknown.ebf6b6fe.svg";function ae(e){switch(e=e.slice(0,2)){case"01":return Q;case"02":case"03":case"04":return ne;case"09":case"10":return Z;case"11":return te;case"13":return $;case"50":return ee;default:return re}}var ce=function e(t){var n=t.cityName,r=t.temperature,a=t.description,c=t.iconCode;Object(X.a)(this,e),this.cityName=void 0,this.temperature=void 0,this.description=void 0,this.icon=void 0,this.cityName=n,this.temperature=Math.round(r),this.description=a,this.icon=ae(c)},ie=n(8),se=n(7),oe=function(e){Object(ie.a)(n,e);var t=Object(se.a)(n);function n(e){var r,a=e.cityName,c=e.temperature,i=e.sensedTemperature,s=e.humidity,o=e.wind,u=e.pressure,l=e.uv,d=e.description,h=e.iconCode,f=e.weeklyWeatherArray,p=e.hourlyWeatherArray;return Object(X.a)(this,n),(r=t.call(this,{cityName:a,temperature:c,description:d,iconCode:h})).sensedTemperature=void 0,r.humidity=void 0,r.wind=void 0,r.pressure=void 0,r.uv=void 0,r.weeklyWeatherArray=void 0,r.hourlyWeatherArray=void 0,r.sensedTemperature=Math.round(i),r.humidity=s,r.wind=o,r.pressure=u,r.uv=l,r.weeklyWeatherArray=f,r.hourlyWeatherArray=p,r}return n}(ce),ue=function e(t){var n=t.minTemperature,r=t.maxTemperature,a=t.description,c=t.iconCode,i=t.date;Object(X.a)(this,e),this.minTemperature=void 0,this.maxTemperature=void 0,this.description=void 0,this.icon=void 0,this.date=void 0,this.minTemperature=Math.round(n),this.maxTemperature=Math.round(r),this.description=a,this.icon=ae(c),this.date=i},le=function e(){Object(X.a)(this,e)};le.formatWeather=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.formatWeeklyWeather(t.daily);case 2:return r=e.sent,e.next=5,le.formatHourlyWeather(t.hourly);case 5:return a=e.sent,e.abrupt("return",new oe({cityName:n,temperature:t.current.temp,sensedTemperature:t.current.feels_like,humidity:t.current.humidity,wind:t.current.wind_speed,pressure:t.current.pressure,uv:t.current.uvi,description:t.current.weather[0].main,iconCode:t.current.weather[0].icon,weeklyWeatherArray:r,hourlyWeatherArray:a}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),le.formatHourlyWeather=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){for(var n=[],r=0;r<24;r++)n.push(new G({temperature:t[r].temp,wind:t[r].wind_speed,description:t[r].weather[0].main,humidity:t[r].humidity,dt:t[r].dt}));e(n)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le.formatWeeklyWeather=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){for(var n=[],r=1;r<8;r++)n.push(new ue({minTemperature:t[r].temp.min,maxTemperature:t[r].temp.max,description:t[r].weather[0].main,iconCode:t[r].weather[0].icon,date:t[r].dt}));e(n)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le.formatMinimalWeather=function(){var e=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ce({cityName:n,temperature:t.current.temp,description:t.current.weather[0].main,iconCode:t.current.weather[0].icon}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var de=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:return n=e.sent,r=n.lat,a=n.lon,e.next=7,_(r,a);case 7:return c=e.sent,e.next=10,le.formatWeather(c,t);case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:return n=e.sent,r=n.lat,a=n.lon,e.next=7,q(r,a);case 7:return c=e.sent,e.next=10,le.formatMinimalWeather(c,t);case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(e){localStorage.setItem("initialCity",e)},pe=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=localStorage.getItem("cities"))){e.next=7;break}return r=JSON.parse(n),e.next=5,je(r);case 5:a=e.sent,t(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return me(e)})),e.next=3,Promise.all(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t);case 2:return n=e.sent,e.abrupt("return",{icon:n.icon,cityName:n.cityName,weatherDescription:n.description,temperature:n.temperature});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(e,t){var n=function(){t()};navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){(function(e){return z.apply(this,arguments)})({lat:+t.coords.latitude.toFixed(1),lon:+t.coords.longitude.toFixed(1)}).then((function(t){e(t)}))}),n,{enableHighAccuracy:!1,maximumAge:0,timeout:27e3}):n()},ve=function(){var e=Object(r.useState)(),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!0),i=Object(d.a)(c,2),o=i[0],f=i[1],p=Object(r.useState)(""),m=Object(d.a)(p,2),b=m[0],v=m[1],x=Object(r.useState)(!1),O=Object(d.a)(x,2),y=O[0],w=O[1],g=Object(r.useState)(""),N=Object(d.a)(g,2),k=N[0],C=N[1],T=Object(r.useState)([]),S=Object(d.a)(T,2),I=S[0],M=S[1],P=Object(r.useState)(!1),H=Object(d.a)(P,2),E=H[0],B=H[1],U=Object(r.useState)(!1),Y=Object(d.a)(U,2),J=Y[0],z=Y[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,de(t);case 4:n=e.sent,a(n),fe(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0 instanceof TypeError?q("Unknown or incorrect city name."):q(e.t0.message);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}();b.length<1||e(b)}),[b]),Object(r.useEffect)((function(){var e=localStorage.getItem("initialCity");e?v(e):be((function(e){v(e)}),(function(){q("Could not get your location, please enter your city in the search bar."),v("London")})),pe((function(e){M(e)}))}),[]);var _=Object(r.useCallback)((function(e){return I.some((function(t){return t.cityName==e}))}),[I]);R((function(){B(_(b)),function(e){var t=e.map((function(e){return e.cityName}));localStorage.setItem("cities",JSON.stringify(t))}(I)}),[b,_]);var V=function(e){v(e)},q=function(e){w(!0),C(e)},K=function(e){if(I.length>=5)q("You can have maximum of 5 favourite cities.");else{var t={cityName:e.cityName,icon:e.icon,weatherDescription:e.description,temperature:e.temperature};M((function(e){return[].concat(Object(s.a)(e),[t])}))}},X=function(e){M((function(t){return t.filter((function(t){return t.cityName!==e}))}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j,{changeCity:V,showFavouritesPanel:function(){z(!0)},showNotification:q}),Object(h.jsx)(W,{weather:n,isFavourite:E,toggleFavourite:function(){_(b)?X(b):K(n)}}),Object(h.jsx)(F,{}),o&&Object(h.jsx)(D,{}),y&&Object(h.jsx)(A,{message:k,onClose:function(){w(!1),C("")}}),J&&Object(h.jsx)(L,{onClose:function(){z(!1)},favourites:I,onDelete:X,changeCity:V})]})};n(191);i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(ve,{})}),document.getElementById("root"))}},[[192,1,2]]]);
//# sourceMappingURL=main.ce08ec67.chunk.js.map